### 🔐 Authentication (احراز هویت)

1. **`POST /api/v1/auth/send-otp`**
   **نوع:** User
   **توضیح:** ارسال کد تأیید (OTP) به شماره موبایل کاربر جهت آغاز فرایند ثبت‌نام یا ورود. کاربران باید در بدنهٔ درخواست، فیلد `mobile_number` را به‌صورت رشته‌ای و با فرمت عددی ارسال کنند. در صورت موفقیت، سرور پیام «کد تأیید ارسال شد» و خود کد را برمی‌گرداند (برای مقاصد تست) .

2. **`POST /api/v1/auth/verify-otp`**
   **نوع:** User
   **توضیح:** تأیید کد ارسالی (OTP). کاربر در بدنهٔ درخواست فیلدهای `mobile_number` و `code` را ارسال می‌کند. در صورت معتبر بودن کد، پاسخ شامل `is_new_user` خواهد بود که نشان می‌دهد آیا کاربر جدید است یا خیر .

3. **`POST /api/v1/auth/register`**
   **نوع:** User
   **توضیح:** ثبت‌نام کاربر جدید. فیلدهای لازم در بدنهٔ درخواست عبارتند از:

   * `full_name`: نام کامل (رشته)
   * `mobile_number`: شماره موبایل (رشته)
   * `username`: نام کاربری (رشته)
   * `national_code`: کد ملی (رشته)
   * `password` و `password_confirmation`: رمز عبور و تأیید آن (رشته)
   * `referral_code` (اختیاری): کد معرف (nullable)
     در صورت موفقیت، پاسخ شامل توکن احراز هویت (Bearer Token)، اطلاعات کاربر و اطلاعات کارت هدیه است .

4. **`POST /api/v1/auth/register-provider`**
   **نوع:** Provider
   **توضیح:** ثبت‌نام خدمات‌دهنده (Provider) جدید. فیلدهای درخواست مشابه ثبت‌نام کاربر است به‌علاوه اطلاعات مربوط به فروشگاه:

   * `bio`: بیوگرافی (رشته)
   * `shop_name`: نام فروشگاه (رشته)
   * `shop_address`: آدرس فروشگاه (رشته)
   * `shop_phone`: شماره تلفن فروشگاه (رشته)
   * `shop_logo`: مسیر لوگو (رشته)
   * `shop_description`: توضیحات فروشگاه (رشته)
   * `senfi_number`: شماره صنفی (رشته)
   * `occupation_id`, `province_id`, `city_id`: شناسه‌های شغل، استان و شهر (عدد صحیح)
     در صورت موفقیت، پاسخ شامل توکن، اطلاعات کاربر و اطلاعات پروفایل خدمات‌دهنده است .

---

### 📢 Advertisements (تبلیغات)

#### **کاربر (User)**

5. **`GET /api/v1/advertisements`**
   **نوع:** User
   **توضیح:** دریافت لیست تبلیغات فعال. کاربران می‌توانند با ارسال پارامتر کوئری `type` (مقدارهای مجاز: `"banner"`, `"popup"`, `"sidebar"`) نتایج را فیلتر کنند. پاسخ مجموعه‌ای از منابع تبلیغات (`AdvertisementResource`) خواهد بود .

6. **`POST /api/v1/advertisements/{id}/click`**
   **نوع:** User
   **توضیح:** ثبت کلیک روی یک تبلیغ مشخص. کاربر شناسهٔ تبلیغ (`id`) را در مسیر ارسال می‌کند. در صورت موفقیت، پیام «Click recorded successfully» برگردانده می‌شود. در صورت نبودن تبلیغ، خطای 404 رخ می‌دهد .

7. **`POST /api/v1/advertisements/{id}/display`**
   **نوع:** User
   **توضیح:** ثبت نمایش یک تبلیغ مشخص. کاربر شناسهٔ تبلیغ (`id`) را در مسیر ارسال می‌کند. در صورت موفقیت، پیام «Display recorded successfully» برگردانده می‌شود. در صورت نبودن تبلیغ، خطای 404 رخ می‌دهد .

8. **`GET /api/v1/my-advertisements`**
   **نوع:** User (نیازمند احراز هویت با Sanctum)
   **توضیح:** دریافت لیست تبلیغات متعلق به کاربر جاری. امکان فیلتر بر اساس وضعیت (`status` با مقادیر `"pending"`, `"published"`, `"expired"`) و تعیین تعداد آیتم‌ها در هر صفحه با پارامتر `per_page` (پیش‌فرض 15) وجود دارد. پاسخ فهرستی از تبلیغات کاربر است .

9. **`GET /api/v1/my-advertisements/{id}`**
   **نوع:** User (نیازمند احراز هویت با Sanctum)
   **توضیح:** دریافت جزئیات یک تبلیغ خاص متعلق به کاربر جاری. شناسه (`id`) در مسیر ارسال می‌شود. در صورت موفق، جزئیات تبلیغ برگشت داده می‌شود و در صورت نبودن یا متعلق نبودن، خطای 404 یا 403 رخ می‌دهد .

#### **ادمین (Admin)**

10. **`POST /api/v1/admin/advertisements`**
    **نوع:** Admin (نیازمند توکن Bearer)
    **توضیح:** ایجاد تبلیغ جدید. در بدنهٔ درخواست باید ساختار `StoreAdvertisementRequest` شامل فیلدهای لازم برای تبلیغ (مثل تصویر، لینک، نوع و ...) ارسال شود. در صورت موفقیت، پاسخ شامل پیام «Advertisement created successfully» و دادهٔ تبلیغ جدید است. در صورت خطای دسترسی، کد 403 برگردانده می‌شود .

11. **`PUT /api/v1/admin/advertisements/{id}`**
    **نوع:** Admin (نیازمند توکن Bearer)
    **توضیح:** به‌روزرسانی یک تبلیغ موجود. شناسهٔ تبلیغ (`id`) در مسیر، و داده‌های به‌روز رسانی مطابق با `UpdateAdvertisementRequest` در بدنهٔ درخواست ارسال می‌شود. در صورت موفقیت، پیام «Advertisement updated successfully» و دادهٔ تبلیغ به‌روز شده برگردانده می‌شود. در صورت عدم وجود تبلیغ یا دسترسی، خطای 404 یا 403 رخ می‌دهد .

12. **`DELETE /api/v1/admin/advertisements/{id}`**
    **نوع:** Admin (نیازمند توکن Bearer)
    **توضیح:** حذف یک تبلیغ از سیستم. شناسهٔ تبلیغ (`id`) در مسیر ارسال می‌شود. در صورت موفقیت، پیام «Advertisement deleted successfully» برگردانده می‌شود. در صورت نبودن تبلیغ یا خطای دسترسی، خطای 404 یا 403 رخ می‌دهد .

---

### 📣 Announcements (اعلان‌ها)

#### **کاربر (User)**

13. **`GET /api/v1/announcements`**
    **نوع:** User
    **توضیح:** دریافت فهرست اعلان‌های فعال. اطلاعات اعلانی شامل `id`, `title`, `message`, `is_active`, `published_at`, `created_at`, `updated_at` برگردانده می‌شود .

#### **ادمین (Admin)**

14. **`POST /api/v1/admin/announcements`**
    **نوع:** Admin (نیازمند توکن Bearer)
    **توضیح:** ایجاد اعلان جدید. در بدنهٔ درخواست باید فیلدهای `title` (عنوان)، `message` (متن)، `is_active` (فعال/غیرفعال) ارسال شود. در صورت موفقیت، پیام «اعلان ایجاد شد» و دادهٔ اعلان جدید برگردانده می‌شود. در صورت دسترسی نامعتبر، کد 403 رخ می‌دهد .

15. **`PUT /api/v1/admin/announcements/{id}`**
    **نوع:** Admin (نیازمند توکن Bearer)
    **توضیح:** به‌روزرسانی یک اعلان موجود. شناسهٔ اعلان (`id`) در مسیر، و فیلدهای به‌روزرسانی (مانند `title`, `message`, `is_active`) در بدنه ارسال می‌شود. در صورت موفق، پیام «اعلان به‌روزرسانی شد» و دادهٔ اعلان به‌روز رسانی شده برگردانده می‌شود. در صورت نبودن اعلان یا دسترسی نامشخص، خطای 404 یا 403 رخ می‌دهد .

16. **`DELETE /api/v1/admin/announcements/{id}`**
    **نوع:** Admin (نیازمند توکن Bearer)
    **توضیح:** حذف یک اعلان. شناسهٔ اعلان (`id`) در مسیر ارسال می‌شود. در صورت موفقیت، پیام «اعلان حذف شد» برگردانده می‌شود. در صورت نبودن اعلان یا دسترسی نامشخص، خطای 404 یا 403 رخ می‌دهد .

---

### 💬 Chat (چت)

#### **کاربر (User)**

17. **`GET /api/v1/conversations/{conversation}/messages`**
    **نوع:** User (نیازمند احراز هویت با Sanctum)
    **توضیح:** دریافت لیست پیام‌های یک مکالمهٔ مشخص. شناسهٔ مکالمه (`conversation`) در مسیر ارسال می‌شود. در پاسخ، آرایه‌ای از پیام‌ها نمایش داده می‌شود .

18. **`POST /api/v1/chat/send`**
    **نوع:** User (نیازمند احراز هویت با Sanctum)
    **توضیح:** ارسال پیام جدید در یک مکالمه. دادهٔ پیام در بدنهٔ درخواست (با فرمت JSON) قرار می‌گیرد؛ شامل شناسهٔ مکالمه، متن پیام و سایر فیلدهای مورد نیاز. در صورت موفقیت، سرور وضعیت ۲۰۱ (Created) برمی‌گرداند .

19. **`POST /api/v1/conversations/{conversation}/read`**
    **نوع:** User (نیازمند احراز هویت با Sanctum)
    **توضیح:** علامت‌گذاری تمامی پیام‌های یک مکالمه به‌عنوان «خوانده شده». شناسهٔ مکالمه (`conversation`) در مسیر ارسال می‌شود. پاسخ سرور 204 (No Content) است که نشان‌دهندهٔ موفقیت است .

20. **`POST /api/v1/conversations/{conversation}/block`**
    **نوع:** User (نیازمند احراز هویت با Sanctum)
    **توضیح:** بلاک کردن یک کاربر در یک مکالمه. شناسهٔ مکالمه (`conversation`) در مسیر ارسال می‌شود. در بدنهٔ درخواست JSON (در صورت نیاز فیلدهای اضافی) ارسال می‌شود. در صورت موفقیت، پاسخ 204 (No Content) خواهد بود .

21. **`POST /api/v1/conversations/{conversation}/unblock`**
    **نوع:** User (نیازمند احراز هویت با Sanctum)
    **توضیح:** آنبلاک کردن یک کاربر در مکالمه. شناسهٔ مکالمه (`conversation`) در مسیر ارسال می‌شود. در صورت موفقیت، پاسخ 204 (No Content) برمی‌گردد .

---

### 💌 Chat Messages (پیام‌های چت)

#### **کاربر (User)**

22. **`POST /api/v1/chat-messages`**
    **نوع:** User (نیازمند احراز هویت با Sanctum)
    **توضیح:** ارسال پیام جدید در مکالمات. ساختار JSON پیام باید شامل فیلدهای لازم (مانند `'conversation_id'`, `'message'`, ...) باشد. در صورت موفق، وضعیت 201 (Created) بازگردانده می‌شود .

23. **`GET /api/v1/chat-messages/{chatMessage}`**
    **نوع:** User (نیازمند احراز هویت با Sanctum)
    **توضیح:** دریافت جزئیات یک پیام مشخص. شناسهٔ پیام (`chatMessage`) در مسیر ارسال می‌شود. در پاسخ، جزئیات پیام (مانند محتوا، فرستنده، زمان ارسال) برگردانده می‌شود. در صورت نبودن پیام یا دسترسی نامعتبر، خطای 404 یا 403 رخ می‌دهد .

24. **`PUT /api/v1/chat-messages/{chatMessage}`**
    **نوع:** User (نیازمند احراز هویت با Sanctum)
    **توضیح:** ویرایش محتوای یک پیام. شناسهٔ پیام (`chatMessage`) در مسیر ارسال می‌شود و دادهٔ ویرایش (مانند فیلد `'message'`) در بدنهٔ درخواست قرار می‌گیرد. در صورت موفق، پاسخ شامل پیام «پیام با موفقیت ویرایش شد» می‌شود. در صورت نبودن پیام یا دسترسی نامشخص، خطای 404 یا 403 رخ می‌دهد .

25. **`DELETE /api/v1/chat-messages/{chatMessage}`**
    **نوع:** User (نیازمند احراز هویت با Sanctum)
    **توضیح:** حذف یک پیام از مکالمه. شناسهٔ پیام (`chatMessage`) در مسیر ارسال می‌شود. در صورت موفق، پاسخ شامل پیام «پیام با موفقیت حذف شد» می‌باشد. در صورت نبودن پیام یا دسترسی نامعتبر، خطای 404 یا 403 رخ می‌دهد .

---

### 🧑‍🔧 Providers & ProviderService (سرویس‌دهنده و خدمات)

#### **کاربر (User)**

26. **`GET /api/v1/providers/{provider}/services`**
    **نوع:** User (نیازمند احراز هویت با Sanctum)
    **توضیح:** دریافت فهرست خدمات ارائه‌دهنده‌ای خاص. شناسهٔ ارائه‌دهنده (`provider`) در مسیر ارسال می‌شود. پارامتر کوئری `per_page` برای تعداد آیتم‌ها در هر صفحه (پیش‌فرض 15) استفاده می‌شود. پاسخ شامل اطلاعات ارائه‌دهنده و آرایه‌ای از خدمات (که دارای جزئیات سرویس است) به همراه لینک‌ها و متاهای صفحه‌بندی است .

#### **ادمین (Admin)**

27. **`POST /api/v1/providers/{provider}/services`**
    **نوع:** Admin (نیازمند احراز هویت با Sanctum)
    **توضیح:** افزودن یا به‌روزرسانی خدمتی برای یک ارائه‌دهنده. شناسهٔ ارائه‌دهنده (`provider`) در مسیر ارسال می‌شود و در بدنهٔ درخواست باید:

    * `service_id` (عدد صحیح): شناسهٔ سرویس
    * `price` (عدد اعشاری): قیمت
    * `custom_description` (رشته، اختیاری): توضیح سفارشی
      ارسال شود. در صورت موفقیت، پیام «خدمت با موفقیت افزوده شد» یا «به‌روز شد» برگردانده می‌شود. در صورت نبودن ارائه‌دهنده یا خطای اعتبارسنجی، خطای 404 یا 422 رخ می‌دهد .

28. **`DELETE /api/v1/providers/{provider}/services/{service}`**
    **نوع:** Admin (نیازمند احراز هویت با Sanctum)
    **توضیح:** حذف یک سرویس از فهرست خدمات ارائه‌دهنده. شناسهٔ ارائه‌دهنده (`provider`) و شناسهٔ سرویس (`service`) در مسیر ارسال می‌شوند. در صورت موفقیت، وضعیت 204 (No Content) بازگردانده می‌شود. در صورت نبودن ارائه‌دهنده یا سرویس، خطای 404 رخ می‌دهد .

---

### ⭐ Reviews (نظرات)

#### **کاربر (User)**

29. **`GET /api/v1/reviews`**
    **نوع:** User
    **توضیح:** دریافت فهرست نظرات کاربران برای یک سرویس‌دهنده یا محصول. پارامترهای کوئری اختیاری:

    * `product_id` (عدد صحیح): فیلتر بر اساس شناسه محصول
    * `user_id` (عدد صحیح): فیلتر بر اساس شناسه کاربر
    * `rating` (عدد صحیح ۱ تا ۵): فیلتر بر اساس امتیاز
    * `sort_by` (رشته): فیلد مرتب‌سازی (`created_at` یا `rating`)
    * `sort_direction` (رشته): جهت مرتب‌سازی (`asc` یا `desc`)
      پاسخ شامل وضعیت و داده‌های صفحه‌بندی شدهٔ نظرات است .

30. **`POST /api/v1/reviews`**
    **نوع:** User (نیازمند توکن Bearer)
    **توضیح:** ثبت نظر جدید برای یک سرویس‌دهنده یا محصول. فیلدهای اجباری در بدنهٔ درخواست:

    * `product_id` (عدد صحیح)
    * `rating` (عدد صحیح، بین ۱ تا ۵)
    * `comment` (رشته، حداقل ۱۰ کاراکتر و حداکثر ۱۰۰۰ کاراکتر)
      در صورت موفقیت، وضعیت 201 (Created) و اطلاعات نظر جدید بازگردانده می‌شود. در صورت خطای اعتبارسنجی یا ارسال قبلی نظر توسط همان کاربر، خطای 400 یا 403 رخ می‌دهد .

31. **`GET /api/v1/reviews/{id}`**
    **نوع:** User
    **توضیح:** دریافت جزئیات یک نظر مشخص. شناسهٔ نظر (`id`) در مسیر ارسال می‌شود. پاسخ شامل جزئیات نظر (امتیاز، کامنت، تاریخ و ...) خواهد بود. در صورت نبودن نظر، خطای 404 رخ می‌دهد .

32. **`PUT /api/v1/reviews/{review}`**
    **نوع:** User (نیازمند توکن Bearer)
    **توضیح:** ویرایش یک نظر موجود. شناسهٔ نظر (`review`) در مسیر ارسال می‌شود. در بدنهٔ درخواست فیلدهای قابل ویرایش (`rating`, `comment`) ارسال می‌شود. در صورت موفقیت، پیام «Review updated successfully» و دادهٔ نظر به‌روز شده برمی‌گردانده می‌شود. در صورت عدم مالکیت نظر، خطای 403 رخ می‌دهد .

33. **`DELETE /api/v1/reviews/{review}`**
    **نوع:** User (نیازمند توکن Bearer)
    **توضیح:** حذف یک نظر. شناسهٔ نظر (`review`) در مسیر ارسال می‌شود. در صورت موفقیت، پیام «Review deleted successfully» بازگردانده می‌شود. در صورت عدم مالکیت نظر، خطای 403 رخ می‌دهد .

---

### 🧰 Services (خدمات)

#### **کاربر (User)**

34. **`GET /api/v1/services`**
    **نوع:** User
    **توضیح:** دریافت فهرست درختی (Tree) از همهٔ خدمات موجود. این فهرست شامل خدمات سطح ریشه و فرزندان آنهاست. پاسخ آرایه‌ای از `ServiceResource` خواهد بود .

35. **`GET /api/v1/services/{serviceId}`**
    **نوع:** User
    **توضیح:** دریافت جزئیات یک خدمت مشخص به همراه فرزندانش. شناسهٔ خدمت (`serviceId`) در مسیر ارسال می‌شود. در صورت نبودن خدمت، خطای 404 رخ می‌دهد .

#### **ادمین (Admin)**

36. **`POST /api/v1/services`**
    **نوع:** Admin (نیازمند احراز هویت با Sanctum)
    **توضیح:** ایجاد یک خدمت جدید. در بدنهٔ درخواست باید ساختار `StoreServiceRequest` شامل اطلاعات خدمت (مانند نام، برچسب، دسته‌بندی و ...) ارسال شود. در صورت موفقیت، وضعیت 201 (Created) و دادهٔ `ServiceResource` جدید بازگردانده می‌شود. در صورت خطای اعتبارسنجی، کد 422 برمی‌گردد .

37. **`PUT /api/v1/services/{serviceId}`**
    **نوع:** Admin (نیازمند احراز هویت با Sanctum)
    **توضیح:** به‌روزرسانی یک خدمت موجود. شناسهٔ خدمت (`serviceId`) در مسیر ارسال می‌شود و داده‌های به‌روزرسانی مطابق با `UpdateServiceRequest` در بدنه ارسال می‌شود. در صورت موفقیت، دادهٔ `ServiceResource` به‌روز شده برگردانده می‌شود. در صورت نبودن خدمت، خطای 404 و در صورت خطای اعتبارسنجی، کد 422 رخ می‌دهد .

38. **`DELETE /api/v1/services/{serviceId}`**
    **نوع:** Admin (نیازمند احراز هویت با Sanctum)
    **توضیح:** حذف یک خدمت از فهرست. شناسهٔ خدمت (`serviceId`) در مسیر ارسال می‌شود. در صورت موفقیت، وضعیت 204 (No Content) بازگردانده می‌شود. در صورت نبودن خدمت، خطای 404 رخ می‌دهد .

---

### 🛒 Shop (فروشگاه)

39. **`GET /api/v1/shop/search`**
    **نوع:** Shop (عمومی)
    **توضیح:** جستجو در فروشگاه (محصولات و خدمات). پارامتر کوئری `q` (رشته) برای متن جستجو الزامی است و پارامتر `per_page` (عدد صحیح، پیش‌فرض 15) برای تعداد نتایج در هر صفحه استفاده می‌شود. پاسخ شامل نتایج جستجو (محصولات و خدمات) است .

---

### 📦 Subscriptions (اشتراک‌ها)

#### **کاربر (User)**

40. **`GET /api/v1/subscriptions`**
    **نوع:** User (نیازمند توکن Bearer)
    **توضیح:** دریافت فهرست اشتراک‌های فعال یا قبلی کاربر. پاسخ شامل پیام وضعیت و آرایه‌ای از منابع اشتراک (`SubscriptionResource`) است .

41. **`POST /api/v1/subscriptions`**
    **نوع:** User (نیازمند توکن Bearer)
    **توضیح:** ایجاد یک اشتراک جدید برای کاربر. داده‌های لازم مطابق با `StoreSubscriptionRequest` در بدنهٔ درخواست ارسال می‌شود. در صورت موفقیت، وضعیت 201 (Created) و دادهٔ `SubscriptionResource` جدید برگردانده می‌شود. در صورت خطای اعتبارسنجی، کد 422 رخ می‌دهد .

42. **`GET /api/v1/subscriptions/{subscription}`**
    **نوع:** User (نیازمند توکن Bearer)
    **توضیح:** دریافت جزئیات یک اشتراک خاص. شناسهٔ اشتراک (`subscription`) در مسیر ارسال می‌شود. در صورت موفقیت، جزئیات اشتراک شامل پیام وضعیت و دادهٔ `SubscriptionResource` بازگردانده می‌شود. در صورت نبودن اشتراک، خطای 404 رخ می‌دهد .

43. **`PUT /api/v1/subscriptions/{subscription}`**
    **نوع:** User (نیازمند توکن Bearer)
    **توضیح:** به‌روزرسانی اشتراک. شناسهٔ اشتراک (`subscription`) در مسیر ارسال می‌شود و بدنهٔ درخواست مطابق با `UpdateSubscriptionRequest` شامل فیلدهای تغییر یافته است. در صورت موفقیت، پیام «Subscription updated successfully» و دادهٔ به‌روز شده برگردانده می‌شود. در صورت نبودن اشتراک، خطای 404 رخ می‌دهد .

44. **`DELETE /api/v1/subscriptions/{subscription}`**
    **نوع:** User (نیازمند توکن Bearer)
    **توضیح:** لغو اشتراک (Cancel subscription). شناسهٔ اشتراک (`subscription`) در مسیر ارسال می‌شود. در بدنهٔ درخواست باید فیلد `cancellation_reason` (رشته) شامل دلیل لغو اشتراک باشد. در صورت موفقیت، پیام «Subscription cancelled successfully» و دادهٔ اشتراک لغو شده برگردانده می‌شود. در صورت نبودن اشتراک، خطای 404 رخ می‌دهد .

45. **`POST /api/v1/subscriptions/{subscription}/renew`**
    **نوع:** User (نیازمند توکن Bearer)
    **توضیح:** تمدید اشتراک. شناسهٔ اشتراک (`subscription`) در مسیر ارسال می‌شود. در صورت موفقیت، پیام «Subscription renewed successfully» و دادهٔ اشتراک تمدید شده برگردانده می‌شود. در صورت نبودن اشتراک، خطای 404 رخ می‌دهد .

46. **`POST /api/v1/subscriptions/{subscription}/cancel`**
    **نوع:** User (نیازمند توکن Bearer)
    **توضیح:** لغو اشتراک (Alternate Cancel). مشابه متد DELETE بالا ولی با متد POST و شامل بدنهٔ JSON با فیلد `cancellation_reason`. در صورت موفقیت، پیام «Subscription cancelled successfully» و دادهٔ اشتراک لغو شده برگردانده می‌شود. در صورت نبودن اشتراک، خطای 404 رخ می‌دهد .

47. **`POST /api/v1/subscriptions/subscribe`**
    **نوع:** User (نیازمند توکن Bearer)
    **توضیح:** خرید اشتراک جدید (Alternate Create). داده‌های مشابه متد POST `/api/v1/subscriptions` در بدنه ارسال می‌شود. در صورت موفقیت، پیام «اشتراک با موفقیت ایجاد شد» و دادهٔ اشتراک جدید برگردانده می‌شود. در صورت خطای اعتبارسنجی، کد 422 رخ می‌دهد .

---

### 📃 Subscription Plans (پلن‌های اشتراک)

#### **کاربر (User)**

48. **`GET /api/v1/subscription-plans`**
    **نوع:** User
    **توضیح:** دریافت لیست پلن‌های اشتراک موجود. پاسخ آرایه‌ای از منابع پلن‌های اشتراک (`SubscriptionPlanResource`) خواهد بود .

49. **`GET /api/v1/subscription-plans/{id}`**
    **نوع:** User
    **توضیح:** دریافت جزئیات یک پلن اشتراک. شناسهٔ پلن (`id`) در مسیر ارسال می‌شود. در صورت نبودن پلن، خطای 404 رخ می‌دهد .

#### **ادمین (Admin)**

50. **`POST /api/v1/admin/subscription-plans`**
    **نوع:** Admin (نیازمند توکن Bearer)
    **توضیح:** ایجاد پلن اشتراک جدید. در بدنهٔ درخواست باید ساختار `StoreSubscriptionPlanRequest` شامل نام پلن، قیمت، توضیحات و ... ارسال شود. در صورت موفقیت، وضعیت 201 (Created) و منابع `SubscriptionPlanResource` جدید بازگردانده می‌شود. در صورت دسترسی نامعتبر، کد 403 رخ می‌دهد .

51. **`PUT /api/v1/admin/subscription-plans/{id}`**
    **نوع:** Admin (نیازمند توکن Bearer)
    **توضیح:** به‌روزرسانی یک پلن اشتراک موجود. شناسهٔ پلن (`id`) در مسیر ارسال می‌شود و بدنهٔ درخواست مطابق با `UpdateSubscriptionPlanRequest` حاوی فیلدهای به‌روز شده است. در صورت موفقیت، منابع `SubscriptionPlanResource` به‌روز شده برگردانده می‌شود. در صورت نبودن پلن یا دسترسی نامعتبر، خطای 404 یا 403 رخ می‌دهد .

52. **`DELETE /api/v1/admin/subscription-plans/{id}`**
    **نوع:** Admin (نیازمند توکن Bearer)
    **توضیح:** حذف یک پلن اشتراک. شناسهٔ پلن (`id`) در مسیر ارسال می‌شود. در صورت موفقیت، وضعیت 204 (No Content) بازگردانده می‌شود. در صورت نبودن پلن یا دسترسی نامعتبر، خطای 404 یا 403 رخ می‌دهد .

---

### 👤 Provider (پروفایل خدمات‌دهنده)

#### **کاربر (User)**

53. **`GET /api/v1/provider/profile`**
    **نوع:** Provider (نیازمند احراز هویت با Sanctum)
    **توضیح:** دریافت پروفایل خدمات‌دهندهٔ کاربر جاری. در پاسخ، اطلاعات پروفایل خدمات‌دهنده شامل نام، بیوگرافی، اطلاعات فروشگاه و ... برگردانده می‌شود. در صورت نبودن پروفایل، خطای 404 رخ می‌دهد .

---

### 🏷‍ Support & Tickets (پشتیبانی و تیکت)

#### **کاربر (User)**

54. **`GET /api/v1/support/tickets`**
    **نوع:** User (نیازمند توکن Bearer)
    **توضیح:** دریافت لیست تیکت‌های پشتیبانی متعلق به کاربر جاری. در پاسخ، آرایه‌ای از تیکت‌ها شامل `id`, `user_id`, `subject`, `status`, `created_at`, `updated_at` و درون هر تیکت آرایهٔ `messages` نمایش داده می‌شود .

55. **`POST /api/v1/support/tickets`**
    **نوع:** User (نیازمند توکن Bearer)
    **توضیح:** ثبت تیکت پشتیبانی جدید. در بدنهٔ درخواست باید فیلد `subject` (موضوع) ارسال شود. در صورت موفقیت، پیام «تیکت ایجاد شد» و دادهٔ تیکت جدید شامل `id`, `user_id`, `subject`, `status`, `created_at`, `updated_at` و آرایهٔ `messages` خالی بازمی‌گردد. در صورت خطای اعتبارسنجی (مثلاً عدم ارسال `subject`)، کد 422 برگشت داده می‌شود .

56. **`GET /api/v1/support/tickets/{id}`**
    **نوع:** User (نیازمند توکن Bearer)
    **توضیح:** نمایش جزئیات یک تیکت مشخص. شناسهٔ تیکت (`id`) در مسیر ارسال می‌شود. پاسخ شامل جزئیات تیکت از جمله آرایهٔ `messages` مرتبط با تیکت است. در صورت نبودن تیکت، خطای 404 و در صورت عدم احراز هویت، خطای 401 رخ می‌دهد .

57. **`POST /api/v1/support/tickets/{id}/reply`**
    **نوع:** User (نیازمند توکن Bearer)
    **توضیح:** ارسال پاسخ کاربر به یک تیکت موجود. شناسهٔ تیکت (`id`) در مسیر ارسال می‌شود. در بدنهٔ درخواست باید فیلد `message` (متن پاسخ) قرار گیرد. در صورت موفقیت، پیام «پیام ارسال شد» بازمی‌گردد. در صورت نبودن تیکت، خطای 404 و در صورت احراز هویت نامعتبر، خطای 401 رخ می‌دهد. در صورت خطای اعتبارسنجی (مثلاً عدم ارسال `message`)، کد 422 برگشت داده می‌شود .

#### **ادمین (Admin)**

58. **`GET /api/v1/support/tickets/all`**
    **نوع:** Admin (نیازمند توکن Bearer)
    **توضیح:** دریافت فهرست **همه**ٔ تیکت‌های پشتیبانی در سیستم (فقط برای ادمین). پاسخ آرایه‌ای از تیکت‌ها همراه با اطلاعات کاربر ارسال‌کننده است. در صورت دسترسی نامعتبر، خطای 403 رخ می‌دهد .

59. **`POST /api/v1/admin/support/tickets/{id}/reply`**
    **نوع:** Admin (نیازمند توکن Bearer)
    **توضیح:** ارسال پاسخ از طرف ادمین به یک تیکت مشخص. شناسهٔ تیکت (`id`) در مسیر قرار می‌گیرد و در بدنهٔ درخواست باید فیلد `message` (متن پاسخ ادمین) باشد. در صورت موفقیت، پیام «پاسخ ثبت شد» برگردانده می‌شود. در صورت نبودن تیکت یا دسترسی نامعتبر، خطای 404 یا 403 رخ می‌دهد. در صورت عدم احراز هویت، خطای 401 رخ می‌دهد. در صورت عدم ارسال `message`، خطای 422 رخ می‌دهد .

---

### 👛 Wallet (کیف پول)

#### **کاربر (User)**

60. **`POST /api/v1/wallet/deposit`**
    **نوع:** User (نیازمند توکن Bearer)
    **توضیح:** شارژ کیف پول کاربر. در بدنهٔ درخواست باید فیلد `amount` (مقدار عددی به تومان، حداکثر 10,000,000) ارسال شود. در صورت موفقیت، وضعیت 200 و پیام تأیید عملیات شارژ برگردانده می‌شود. در صورت خطای اعتبارسنجی (مثلاً مبلغ خارج از بازه) کد مناسب (422 یا 400) رخ می‌دهد .

---

### 👤 User Profile (پروفایل کاربر)

#### **کاربر (User)**

61. **`PUT /api/v1/user/profile`**
    **نوع:** User (نیازمند احراز هویت با Sanctum)
    **توضیح:** به‌روزرسانی اطلاعات پروفایل کاربر. در بدنهٔ درخواست باید فیلدهای `name` (رشته) و `email` (رشته با فرمت ایمیل) ارسال شود. در صورت موفقیت، پیام «پروفایل با موفقیت بروزرسانی شد» برگردانده می‌شود. در صورت احراز هویت نامعتبر، خطای 401 رخ می‌دهد .

62. **`PUT /api/v1/user/change-password`**
    **نوع:** User (نیازمند احراز هویت با Sanctum)
    **توضیح:** تغییر رمز عبور کاربر. بدنهٔ درخواست باید شامل فیلدهای:

    * `current_password` (رشته)
    * `password` (رشته، حداقل ۸ کاراکتر)
    * `password_confirmation` (رشته)
      در صورت موفقیت، پیام «رمز عبور با موفقیت تغییر کرد» برگردانده می‌شود. در صورت اشتباه بودن `current_password`، خطای 400 و در صورت عدم احراز هویت، خطای 401 رخ می‌دهد .

63. **`GET /api/v1/user/referral-stats`**
    **نوع:** User (نیازمند احراز هویت با Sanctum)
    **توضیح:** دریافت آمار ارجاع‌های کاربر جاری (مانند تعداد ارجاع‌ها، امتیازات کسب‌شده و ...). در صورت موفقیت، داده‌های آماری ارجاع برگردانده می‌شود. در صورت عدم احراز هویت، خطای 401 رخ می‌دهد .

64. **`GET /api/v1/user/referral-history`**
    **نوع:** User (نیازمند احراز هویت با Sanctum)
    **توضیح:** دریافت تاریخچه تراکنش‌های ارجاع کاربر. در پاسخ، آرایه‌ای از تراکنش‌های ارجاع (با جزئیات مبلغ، تاریخ و ...) برگردانده می‌شود. در صورت عدم احراز هویت، خطای 401 رخ می‌دهد .

---

### 🌐 ProviderService & UserBlock (درخواست‌های سرویس و بلاک کاربران)

> **تذکر:** بر اساس لیست Tagها در مستندات، چند دسته دیگر مانند `ServiceRequest (User & Admin)` و `UserBlock (User)` نیز تعریف شده‌اند؛ اما در بخش Paths فایل JSON فعلی، هیچ Endpoint مستقیمی با وجود این برچسب‌ها درج نشده است. در صورت نیاز به جزئیات بیشتر، می‌توان جستجوی بیشتری در بخش `paths` انجام داد.


